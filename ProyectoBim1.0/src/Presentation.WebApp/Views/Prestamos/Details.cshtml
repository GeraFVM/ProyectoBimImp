@{
    ViewData["Title"] = "Préstamo > Detalle";
}

@model Domain.Entities.IM253E01Prestamo

<dl>
    <dt>Id</dt>
    <dd>@Model.Id</dd>

    <dt>Empleado</dt>
    <dd>@Model.Usuario?.Nombre ?? "No especificado"</dd>
    
    <dt>Empleado Id</dt>
    <dd>@Model.UsuarioId</dd>

    <dt>Edad del Usuario</dt>
    <dd>@(Model.Usuario?.Edad.ToString() ?? "No especificado")</dd>

    <dt>Foto del Usuario</dt>
    <dd>
        @if (!string.IsNullOrEmpty(Model.Usuario?.Foto))
        {
            <img src="@Model.Usuario.Foto" alt="Foto del usuario" style="max-width:150px; height:auto;"/>
        }
        else
        {
            <span>No disponible</span>
        }
    </dd>

    <dt>Libro</dt>
    <dd>
        @if (Model.Libro != null)
        {
            @*
                **NOTA:** Hemos eliminado las referencias a Model.Libro.Titulo,
                y ahora mostramos Autor, ISBN y Editorial.
            *@
            <span>Autor: @Model.Libro.Autor</span><br/>
            <span>ISBN: @Model.Libro.ISBN</span><br/>
            <span>Editorial: @(Model.Libro.Editorial ?? "N/A")</span>
            @* Puedes agregar más propiedades del libro aquí si es necesario *@
        }
        else
        {
            <span>No especificado</span>
        }
    </dd>

    <dt>Libro Id</dt>
    <dd>@Model.LibroId</dd>

    <dt>Fecha de Préstamo</dt>
    <dd>@(Model.FechaPrestamo.ToShortDateString())</dd>

    <dt>Fecha de Devolución</dt>
    <dd>@(Model.FechaDevolucion?.ToShortDateString() ?? "Pendiente")</dd>
</dl>

<a asp-action="Index" class="btn btn-danger mt-3">Regresar</a>